
FILE( GLOB CODERS_SRCS ../coders/*.c )

SET( CODERS_DEPENDENT_LIBRARIES )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_DPS )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/dps.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_DPS )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_DJVU )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/djvu.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_DJVU )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_OPENEXR )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/exr.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_OPENEXR )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_FLASHPIX )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/fpx.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_FLASHPIX )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_JBIG )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/jbig.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_JBIG )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_JPEG )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/jpeg.c" )
ELSE( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_JPEG )
	FIND_PACKAGE( JPEG REQUIRED )
	INCLUDE_DIRECTORIES( ${JPEG_INCLUDE_DIR} )
	SET( CODERS_DEPENDENT_LIBRARIES ${CODERS_DEPENDENT_LIBRARIES} ${JPEG_LIBRARIES} )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_JPEG )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_JP2 )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/jp2.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_JP2 )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_PNG )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/png.c" )
ELSE( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_PNG )
	SET( PNG_NAMES libpng12_static )
	FIND_PACKAGE( PNG REQUIRED )
	SET( CODERS_DEPENDENT_LIBRARIES ${CODERS_DEPENDENT_LIBRARIES} ${PNG_LIBRARIES} )
	INCLUDE_DIRECTORIES( ${PNG_INCLUDE_DIR} )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_PNG )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_TIFF )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/ept.c" "${CMAKE_CURRENT_SOURCE_DIR}/../coders/tiff.c" )
ELSE( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_TIFF )
	FIND_PACKAGE( TIFF REQUIRED )
	INCLUDE_DIRECTORIES( ${TIFF_INCLUDE_DIR} )
	SET( CODERS_DEPENDENT_LIBRARIES ${CODERS_DEPENDENT_LIBRARIES} ${TIFF_LIBRARIES} )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_TIFF )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_WINGDI32 )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/clipboard.c" "${CMAKE_CURRENT_SOURCE_DIR}/../coders/emf.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_WINGDI32 )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_WMF )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/wmf.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_WMF )
IF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_X11 )
	LIST( REMOVE_ITEM CODERS_SRCS "${CMAKE_CURRENT_SOURCE_DIR}/../coders/x.c" "${CMAKE_CURRENT_SOURCE_DIR}/../coders/xwd.c" )
ENDIF( NOT ${IMAGEMAGICK_NAMESPACE_NAME}_WITH_X11 )

